/*
 * The first descendent of the CodeMirror wrapper is the theme,
 * but its identifying class can change depending on the theme.
*/
#code-mirror-override > div,
#code-mirror-override .cm-editor {
  @apply bg-transparent h-full;
  @apply select-auto;
}

#code-mirror-override .cm-scroller {
  overflow: auto;
}

#code-mirror-override .cm-gutter {
  @apply select-none;
}

#code-mirror-override .cm-activeLine,
#code-mirror-override .cm-activeLineGutter {
  @apply bg-primary/5;
}

#code-mirror-override .cm-scroller,
#code-mirror-override .cm-editor {
  height: 100% !important;
}

.dark #code-mirror-override .cm-activeLine,
.dark #code-mirror-override .cm-activeLineGutter {
  @apply bg-chalkboard-70/20;
  mix-blend-mode: lighten;
}

#code-mirror-override .cm-focused .cm-activeLine,
#code-mirror-override .cm-focused .cm-activeLineGutter {
  @apply bg-primary/10;
}

.dark #code-mirror-override .cm-focused .cm-activeLine,
.dark #code-mirror-override .cm-focused .cm-activeLineGutter {
  @apply bg-chalkboard-70/40;
}

#code-mirror-override .cm-matchingBracket {
  @apply bg-primary/20;
}

.dark #code-mirror-override .cm-matchingBracket {
  @apply bg-chalkboard-70/60;
}

#code-mirror-override .cm-gutters {
  @apply bg-chalkboard-10/30;
}

.dark #code-mirror-override .cm-gutters {
  @apply bg-chalkboard-110/50;
}

#code-mirror-override .cm-content {
  @apply caret-primary;
}

.dark #code-mirror-override .cm-content {
  @apply caret-chalkboard-10;
}

#code-mirror-override .cm-focused {
  outline: none;
}

.cm-rename-popup {
  /* we want to overpower anything else */
  z-index: 99999999999 !important;
}

.cm-rename-popup input {
  /* use black text on white background in both light and dark mode */
  color: black !important;
  background: white !important;
}

@keyframes blink {
  0%,
  100% {
    opacity: 0;
  }

  10% {
    opacity: 1;
  }
}

.react-json-view {
  @apply bg-transparent!;
}

#code-mirror-override .cm-tooltip,
.cm-tooltip {
  @apply text-xs shadow-md;
  @apply bg-chalkboard-10 text-chalkboard-80;
  @apply rounded-xs border-solid border border-chalkboard-40/30 border-l-liquid-10;
}

.dark #code-mirror-override .cm-tooltip,
.dark .cm-tooltip {
  @apply bg-chalkboard-110 text-chalkboard-40;
  @apply border-chalkboard-70/20 border-l-liquid-70;
}

#code-mirror-override .cm-tooltip-hover,
#code-mirror-override .cm-signature-tooltip,
.cm-signature-tooltip {
  @apply py-1 px-2 w-max max-w-md;
}

#code-mirror-override .cm-completionInfo {
  @apply px-4 rounded-l-none;
  @apply bg-chalkboard-10 text-liquid-90;
  @apply border-liquid-40/30;
}

.dark #code-mirror-override .cm-completionInfo {
  @apply bg-liquid-120 text-liquid-50;
  @apply border-liquid-90/60;
}

#code-mirror-override .cm-tooltip-autocomplete li {
  @apply px-2 py-1;
}

#code-mirror-override .cm-tooltip-autocomplete li[aria-selected="true"] {
  @apply bg-liquid-10 text-liquid-110;
}

.dark #code-mirror-override .cm-tooltip-autocomplete li[aria-selected="true"] {
  @apply bg-liquid-100 text-liquid-20;
}

#code-mirror-override .cm-content {
  white-space: pre-wrap;
  word-break: normal;
  word-wrap: break-word;
}

.cm-ghostText,
.cm-ghostText * {
  color: rgb(120, 120, 120, 0.8) !important;
}
