.panel {
  @apply relative z-0;
  @apply bg-chalkboard-10/70 backdrop-blur-sm;
}

:global(.dark) .panel {
  @apply bg-chalkboard-110/50 backdrop-blur-0;
}

.header {
  @apply sticky top-0 z-10 cursor-pointer;
  @apply flex items-center justify-between gap-2 w-full p-2;
  @apply font-mono text-xs font-bold select-none text-chalkboard-90;
  @apply bg-chalkboard-20;
}

.header:not(:last-of-type) {
  @apply border-b;
}

:global(.dark) .header {
  @apply bg-chalkboard-110 border-b-chalkboard-90 text-chalkboard-30;
}

:global(.dark) .header:not(:last-of-type) {
  @apply border-b-2;
}

.panel:first-of-type .header {
  @apply rounded-t;
}

.panel:last-of-type .header {
  @apply rounded-b;
}

.panel[open] .header {
  @apply rounded-t rounded-b-none;
}

.panel[open] {
  @apply relative flex-grow max-h-full h-48 my-1 rounded;
}

/*
  Open panels have a little bit of a buffer around them
  to make it harder to accidentally click or interact with the stream behind them.
  The right side buffer is a little smaller so people don't get frustrated by it.
  TODO: make this logic flexible for if the panel is on the right side of the screen.
*/
.panel[open]::before {
  @apply absolute -inset-5 -top-2 -right-1 z-0;
  @apply content-[''];
}

.panel[open]:first-of-type::before {
  @apply -top-5;
}

.panel[open] + .panel[open],
.panel[open]:first-of-type {
  @apply mt-0;
}

.panel[open]:last-of-type {
  @apply mb-0;
}
