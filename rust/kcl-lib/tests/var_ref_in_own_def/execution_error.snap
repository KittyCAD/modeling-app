---
source: kcl-lib/src/simulation_tests.rs
description: Error from executing var_ref_in_own_def.kcl
---
KCL Engine error

<<<<<<< HEAD
  × engine: could not send request to the engine: could not send json over
  │ websocket: Trying to work with closed connection
   ╭─[1:1]
 1 │ // This won't work, because `sketch001` is being referenced in its own definition.
   · ▲
   · ╰── main
 2 │ sketch001 = startSketchOn(XY)
=======
  × undefined value: You can't use `sketch001` because you're currently trying
  │ to define it. Use a different variable here instead.
   ╭─[3:19]
 2 │ sketch001 = startSketchOn(XY)
 3 │   |> startProfile(sketch001, at = [20, -20])
   ·                   ────┬────
   ·                       ╰── tests/var_ref_in_own_def/input.kcl
>>>>>>> main
   ╰────
